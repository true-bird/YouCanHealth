package com.matnagu.myHell.sports;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

import com.matnagu.myHell.sports.dto.SportsDto;
import com.matnagu.myHell.sports.service.SportsServiceImpl;

@Controller
@RequestMapping(value = "/sports")
public class SportsController {
	
	@Autowired
	private SportsServiceImpl sportsServiceImpl;
	
	// 운동 화면
	@RequestMapping(value = "/")
	public String sports(Model model) {
		// 가슴목록
		List<SportsDto> sportsChestList = sportsServiceImpl.selectChestList();
		System.out.println(sportsChestList);
		// 등목록
		List<SportsDto> sportsBackList = sportsServiceImpl.selectBackList();
		System.out.println(sportsBackList);
		// 어깨목록
		List<SportsDto> sportsShoulderList = sportsServiceImpl.selectShoulderList();
		System.out.println(sportsShoulderList);
		// 복부목록
		List<SportsDto> sportsAbsList = sportsServiceImpl.selectAbsList();
		for(SportsDto dto : sportsAbsList) System.out.println(dto.toString());
		System.out.println(sportsAbsList);
		// 하체목록
		List<SportsDto> sportsLowerList = sportsServiceImpl.selectLowerList();
		System.out.println(sportsLowerList);
		model.addAttribute("chest", sportsChestList);
		model.addAttribute("back", sportsBackList);
		model.addAttribute("shoulder", sportsShoulderList);
		model.addAttribute("abs", sportsAbsList);
		model.addAttribute("lower", sportsLowerList);
		return "sports/sportsList";
	}	

	// 운동 상세정보 화면
	@RequestMapping(value = "/sportsDetails")
	public String sportsDetails(@RequestParam("seq") int seq, Model model) {
		System.out.println("seq=" + seq);

		SportsDto SportsDto = sportsServiceImpl.selectSportsInfo(seq);
		model.addAttribute("SportsDto", SportsDto);

		return "sports/sportsDetails";
	}
}
